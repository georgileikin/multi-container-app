<div class="spinner-container" *ngIf="isAuthenticating">
  <div class="loading-spinner">
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
<div *ngIf="!isAuthenticated && !isAuthenticating">
  <div class="mb-3">
    <form
      (ngSubmit)="onSubmit()"
      class="row g-3 align-items-center"
      #authForm="ngForm">
      <div class="col-12">
        <label class="visually-hidden" for="username">Username</label>
        <input
          class="form-control"
          id="username"
          name="username"
          ngModel
          placeholder="Username"
          type="text"
          required />
      </div>

      <div class="col-12">
        <label class="visually-hidden" for="password">Password</label>
        <input
          class="form-control"
          id="password"
          name="password"
          ngModel
          placeholder="Password"
          type="password"
          required />
      </div>

      <div class="col-12">
        <button
          type="submit"
          class="btn btn-outline-success w-100"
          [disabled]="!authForm.valid">
          Authenticate
        </button>
      </div>
    </form>
  </div>
  <div
    class="alert alert-danger alert-dismissible show"
    role="alert"
    *ngIf="authError">
    <span>{{ authError }}</span>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="alert"
      aria-label="Close"
      (click)="clearAuthError()"></button>
  </div>
</div>
<div *ngIf="isAuthenticated">
  <div class="col-12 mb-3">
    <span class="navbar-text fst-italic">
      {{ getUserString() }}
    </span>
  </div>
  <div class="col-12">
    <button
      type="button"
      class="btn btn-outline-danger w-100"
      (click)="onLogout()">
      Leave
    </button>
  </div>
</div>
